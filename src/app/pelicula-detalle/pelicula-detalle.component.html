<mat-toolbar color="primary">
  <span>DETALLE</span>
</mat-toolbar>

<main>
  <mat-card>
    <mat-card-header>
      <mat-card-title>Buscar Película</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="peliculaForm" (ngSubmit)="obtenerPelicula()">
        <mat-form-field appearance="fill">
          <mat-label>Nombre de la Película</mat-label>
          <input matInput formControlName="title" required placeholder="Nombre de la película">
        </mat-form-field>
        <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
        <mat-card-actions>
          <button mat-raised-button color="primary" type="submit">Buscar</button>
        </mat-card-actions>
      </form>
    </mat-card-content>
  </mat-card>


  <div class="detalle-imagen-container" *ngIf="mostrarDetalles">
    <!-- Tarjeta de detalles de la película -->
    <mat-card>
      <mat-card-header>
        <mat-card-title>Detalles de la Película</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <form [formGroup]="peliculaForm" (ngSubmit)="actualizarPelicula()">
          <mat-form-field appearance="fill">
            <mat-label>Título</mat-label>
            <input matInput formControlName="title" required placeholder="Título de la película">
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Director</mat-label>
            <input matInput formControlName="director" required placeholder="Director de la película">
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Descripción</mat-label>
            <textarea matInput formControlName="description" required placeholder="Descripción de la película"></textarea>
          </mat-form-field>
          <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>
          <mat-card-actions>
            <button mat-raised-button color="primary" type="submit" [disabled]="!peliculaForm.valid">Actualizar</button>
            <button mat-raised-button color="warn" (click)="eliminarPelicula()">Eliminar Película</button>
          </mat-card-actions>
        </form>
      </mat-card-content>
    </mat-card>

    <!-- Tarjeta de imagen de la película -->
    <mat-card>
      <mat-card-header>
        <mat-card-title>Imagen de la Película</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <img *ngIf="peliculaForm.get('image')?.value" [src]="peliculaForm.get('image')?.value" alt="Imagen de la película">
      </mat-card-content>
    </mat-card>
  </div>
</main>
